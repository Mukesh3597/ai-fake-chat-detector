<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <title>Fake / Real Message Checker</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 40px;
    }
    .box {
      max-width: 760px;
      margin: auto;
      background: white;
      padding: 22px;
      border-radius: 14px;
      box-shadow: 0 2px 12px rgba(0,0,0,.08);
    }
    textarea {
      width: 100%;
      height: 140px;
      padding: 10px;
      font-size: 14px;
      border-radius: 10px;
      border: 1px solid #ccc;
      resize: vertical;
    }
    button.main {
      width: 100%;
      margin-top: 12px;
      padding: 12px;
      border: none;
      border-radius: 10px;
      background: #111;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
    }
    .small {
      font-size: 13px;
      color: #444;
      margin-top: 8px;
      line-height: 1.4;
    }

    /* üî• Trending box (fixed height + scroll) */
    .trend {
      margin-top: 14px;
      padding: 12px;
      border-radius: 12px;
      background: #fff;
      border: 1px solid #e7e7e7;
      max-height: 240px;
      overflow-y: auto;
    }
    .trend-item {
      background: #f7f7f7;
      padding: 8px;
      border-radius: 10px;
      margin-top: 8px;
      font-size: 13px;
    }

    .result {
      margin-top: 18px;
      padding: 14px;
      border-radius: 12px;
      background: #f7f7f7;
      border: 1px solid #e7e7e7;
    }
    .tag {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: bold;
      margin-right: 6px;
      font-size: 14px;
    }

    /* üü¢üü°üü† Progress bars */
    .scores {
      margin-top: 12px;
      padding: 10px;
      background: #fff;
      border-radius: 12px;
      border: 1px dashed #d7d7d7;
      font-size: 13px;
    }
    .row { margin-top: 8px; }
    .lbl { display:flex; justify-content:space-between; font-size:12px; }
    .bar { height:10px; background:#e9edf3; border-radius:999px; overflow:hidden; }
    .fill { height:100%; }

    /* ‚¨áÔ∏è‚¨ÜÔ∏è Floating scroll buttons */
    .fab {
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .fab button {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #111;
      color: #fff;
      font-size: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,.2);
    }
  </style>
</head>

<body>

<div class="box">
  <h2>ü§ñ Fake / Real Message Checker</h2>
  <p class="small">
    Paste message ‚Üí Check ‚Üí Result + Confidence + Explanation  
    ‚ö†Ô∏è Awareness tool (100% guarantee ‡§®‡§π‡•Ä‡§Ç)
  </p>

  <!-- üî• Trending Messages -->
  <div class="trend" id="trendingBox">
    <b>üî• ‡§Ü‡§ú Trending Messages</b>
    <div class="small">‡§≤‡•ã‡§ó ‡§Ü‡§ú ‡§∏‡§¨‡§∏‡•á ‡§ú‡§º‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§Ø‡§π‡•Ä messages check ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç:</div>

    {% for t in trending %}
      <div class="trend-item">
        <b>({{ t.count }})</b> {{ t.sample }}
      </div>
    {% endfor %}
  </div>

  <!-- Input -->
  <form method="POST">
    <textarea id="chatBox" name="chat" placeholder="Paste WhatsApp message here...">{{ chat }}</textarea>
    <button class="main" type="submit">‚úÖ Check Message</button>
  </form>

  <!-- Result -->
  {% if result %}
  <div class="result">
    <div>
      <b>Result:</b>

      {% if "REAL" in result %}
        <span class="tag" style="background:#e8fff0;">üòá REAL</span>
      {% elif "FAKE" in result %}
        <span class="tag" style="background:#ffe8e8;">ü§• FAKE</span>
      {% elif "MORE TEXT" in result %}
        <span class="tag" style="background:#eef2ff;">üìù MORE TEXT NEEDED</span>
      {% else %}
        <span class="tag" style="background:#fff6da;">‚ö†Ô∏è SUSPICIOUS</span>
      {% endif %}

      {% if confidence is not none %}
        {% if confidence >= 80 %}
          <span class="tag" style="background:#e8fff0;color:#0a7a2f;">üü¢ {{ confidence }}%</span>
        {% elif confidence >= 50 %}
          <span class="tag" style="background:#fff7da;color:#8a6d00;">üü° {{ confidence }}%</span>
        {% else %}
          <span class="tag" style="background:#ffece6;color:#a84300;">üü† {{ confidence }}%</span>
        {% endif %}
      {% endif %}
    </div>

    {% if explain %}
      <div class="small" style="margin-top:8px;">
        <b>Explanation:</b> {{ explain }}
      </div>
    {% endif %}

    {% if prob_map and prob_map|length > 0 %}
    <div class="scores">
      <b>Confidence (All Scores)</b>

      <div class="row">
        <div class="lbl"><span>REAL</span><span>{{ prob_map.get("real",0) }}%</span></div>
        <div class="bar"><div class="fill" style="width:{{ prob_map.get('real',0) }}%;background:#38b000;"></div></div>
      </div>

      <div class="row">
        <div class="lbl"><span>FAKE</span><span>{{ prob_map.get("fake",0) }}%</span></div>
        <div class="bar"><div class="fill" style="width:{{ prob_map.get('fake',0) }}%;background:#d00000;"></div></div>
      </div>

      <div class="row">
        <div class="lbl"><span>SUSPICIOUS</span><span>{{ prob_map.get("suspicious",0) }}%</span></div>
        <div class="bar"><div class="fill" style="width:{{ prob_map.get('suspicious',0) }}%;background:#f4b400;"></div></div>
      </div>
    </div>
    {% endif %}
  </div>
  {% endif %}
</div>

<!-- ‚¨áÔ∏è‚¨ÜÔ∏è Floating Scroll Buttons -->
<div class="fab">
  <button title="Go to input" onclick="document.getElementById('chatBox').scrollIntoView({behavior:'smooth'});">‚¨áÔ∏è</button>
  <button title="Go to top" onclick="window.scrollTo({top:0, behavior:'smooth'});">‚¨ÜÔ∏è</button>
</div>

</body>
</html>
